%{
#include <stdio.h>
%}

%%
[a-wA-W]   {        /* letters that donâ€™t need wrapping */
    putchar(yytext[0] + 3);
}

[x-z]      {        /* wrap lowercase */
    putchar(yytext[0] - 23);
}

[X-Z]      {        /* wrap uppercase */
    putchar(yytext[0] - 23);
}

.|\n       {        /* print non-letters as it is */
    putchar(yytext[0]);
}
%%

int main(int argc, char *argv[])
{
    if (argc > 1)
        yyin = fopen(argv[1], "r");

    yylex();
    return 0;
}
